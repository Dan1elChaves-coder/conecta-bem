(function(){const app=document.getElementById('app');const navLinks=document.querySelectorAll('.nav-link');const hamburger=document.getElementById('hamburger');function setActive(path){navLinks.forEach(a=>a.classList.toggle('active',a.getAttribute('data-route')===path));}async function loadTemplate(path){try{const route=path.replace(/^\//,'')||'inicio';const res=await fetch('templates/'+route+'.html');if(!res.ok)throw new Error('Nao carregou');const html=await res.text();app.innerHTML=html;runEnhancements();}catch(e){app.innerHTML='<section class="card"><h2>Erro ao carregar a p√°gina</h2><p>Tente novamente mais tarde.</p></section>';}}function navigateTo(path){history.pushState({},'',path);setActive(path);loadTemplate(path);}window.addEventListener('popstate',()=>loadTemplate(location.pathname));document.addEventListener('click',e=>{const a=e.target.closest('a[data-route]');const routeLink=e.target.closest('[data-link]');if(a){e.preventDefault();navigateTo(a.getAttribute('data-route'));}else if(routeLink){e.preventDefault();const href=routeLink.getAttribute('href');if(href)navigateTo(new URL(href,location.origin).pathname);}});hamburger.addEventListener('click',()=>{document.getElementById('nav').classList.toggle('open');});function runEnhancements(){const form=document.getElementById('formCadastro');if(form){}document.querySelectorAll('.card').forEach((el,i)=>el.style.animationDelay=(i*100)+'ms');}const initial=location.pathname==='/'||location.pathname===''?'/':location.pathname;setActive(initial);loadTemplate(initial);})();